<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/svg+xml" href="img/avatar-tt.svg">
  <link rel="icon" type="image/png" href="img/avatar-tiny.png">
  <link rel="authorization_endpoint" href="https://indieauth.com/auth">
  <link rel="token_endpoint" href="https://tokens.indieauth.com/token">
  <link rel="webmention" href="https://webmention.io/death.id.au/webmention" />
  <link rel="pingback" href="https://webmention.io/death.id.au/xmlrpc" />
  <link rel="microsub" href="https://aperture.p3k.io/microsub/807">
  <link rel="micropub" href="https:// micropub.death.id.au/micropub">
  <link rel="stylesheet" href="styles.css">
  <script src="https://kit.fontawesome.com/ebe14e90c3.js" crossorigin="anonymous"></script>
  <title>Mon Repos (Death's Domain)</title>
</head>

<body>
  <!-- Reference for representative h-card properties: https://microformats.org/wiki/h-card -->
  <main class="h-card" rel="author">
      <img class="u-featured" src="img/banner-1500x500.jpg" alt="A grim reaper in a decorated cubicle, writing and daydreaming, surrounded by many other grim reapers in bland, grey, cubicles" />
      <img class="u-photo" alt="My profile photo â€” a pixelated version of me" src="img/avatar-tt.svg" />
    <h1>
      I'm <span class="p-name">Gordon Pedersen</span>.
    </h1>

    <p class="p-note">
      ...and I am a human on the Internet.
    </p>
    <ul>
      <li>
        <button class="icon-button button-input"
          data-instruction="Please enter your fediverse / mastodon handle (e.g. '@user@domain.social')" 
          data-placeholder="@user@domain.social"
          data-success="Thanks for the follow!"
          onsubmit="handleFollow(event.value)">
          <img src="img/Fediverse_logo_proposal.svg" alt="Fediverse logo">
          Follow @death.au@death.id.au
        </button>
      </li>
      <li><i><img class="tiny-avatar" src="img/avatar-tt-trans.svg"></i> <a class="u-uid u-url" href="https://death.id.au">Mon Repos (you are here)</a><a class="u-url" href="acct:death.au@death.id.au"></a></li>
      <li><i class="fa-brands fa-mastodon"></i> <a class="u-url" href="https://pkm.social/@death_au" rel="me">@death_au@pkm.social</a></li>
      <li><i class="fa-brands fa-github"></i> <a class="u-url" href="https://github.com/deathau" rel="me">@deathau</a></li>
      <li><i class="fa-brands fa-twitter"></i> <a class="u-url" href="https://twitter.com/death_au" rel="me">@death_au</a></li>
      <li><i class="fa-brands fa-linkedin"></i> <a class="u-url" href="https://www.linkedin.com/in/gordon-pedersen/">Gordon Pedersen</a></li>
    </ul>
  </main>
  <script src="js/follow.js"></script>
  <script src="js/button-input.js"></script>
  <script>
    window.addEventListener('unhandledrejection', function(event) {
      alert(event.reason)
    })
    function handleFollow(handle) {
      try{
        follow('@death.au@death.id.au', handle)
      }
      catch(e){
        alert(e)
      }
    }
    function tryFollow(user) {
      try{
        follow(user)
      }
      catch(e){
        alert(e)
      }
    }
  </script>
</body>

</html>
